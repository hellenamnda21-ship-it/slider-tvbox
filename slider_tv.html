<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tabela TV Box</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

<style>
    body {
        margin: 0;
        background: #000;
        font-family: Arial;
        color: #fff;
        overflow: hidden;
    }

    .container {
        width: 100%;
        height: 100vh;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        padding: 10px;
        box-sizing: border-box;
    }

    .coluna {
        width: 32%;
        background: rgba(255,0,0,0.65);
        border-radius: 8px;
        padding: 10px;
        box-sizing: border-box;
    }

    .item {
        display: flex;
        justify-content: space-between;
        padding: 10px;
        margin-bottom: 10px;
        background: #d94242;
        border-radius: 6px;
    }

    .item span {
        font-size: 25px;
        font-weight: bold;
    }
</style>
</head>

<body>

<div class="container" id="tabela"></div>

<script>
/* -----------------------------
   ðŸ”¥ CONFIG FIREBASE
--------------------------------*/
const firebaseConfig = {
    databaseURL: "https://slider-tvbox-default-rtdb.firebaseio.com/"
};
firebase.initializeApp(firebaseConfig);

const db = firebase.database();

/* -----------------------------
   ðŸ“Œ BUSCAR A TABELA menuData/1
--------------------------------*/
db.ref("menuData/1").on("value", (snapshot) => {
    const data = snapshot.val();
    if (!data) return;

    const container = document.getElementById("tabela");
    container.innerHTML = ""; // limpar antes de montar

    // Criar 3 colunas
    const col1 = document.createElement("div");
    const col2 = document.createElement("div");
    const col3 = document.createElement("div");

    col1.className = "coluna";
    col2.className = "coluna";
    col3.className = "coluna";

    // Dividir os itens em 3 colunas iguais
    const keys = Object.keys(data);
    const total = keys.length;
    const porColuna = Math.ceil(total / 3);

    const coluna1 = keys.slice(0, porColuna);
    const coluna2 = keys.slice(porColuna, porColuna * 2);
    const coluna3 = keys.slice(porColuna * 2);

    function montar(colunaDados, colunaDiv) {
        colunaDados.forEach(i => {
            let item = data[i];
            let nome = item[0] || "Novo";
            let preco = item[1] || "R$ 0.00";

            const div = document.createElement("div");
            div.className = "item";

            div.innerHTML = `
                <span>${nome}</span>
                <span>${preco}</span>
            `;

            colunaDiv.appendChild(div);
        });
    }

    montar(coluna1, col1);
    montar(coluna2, col2);
    montar(coluna3, col3);

    // Jogar tudo na tela
    container.appendChild(col1);
    container.appendChild(col2);
    container.appendChild(col3);
});
</script>
</body>
</html>
